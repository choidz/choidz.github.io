{"version":3,"file":"static/js/995.14dc5962.chunk.js","mappings":"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","sources":["blog/post-page.js","lib/firebase.js","blog/usePostViews.js","blog/usePosts.js","blog/utils.js"],"sourcesContent":["import { useEffect, useMemo, useState } from \"react\";\nimport ReactMarkdown from \"react-markdown\";\nimport { Link, Navigate, useParams } from \"react-router-dom\";\nimport remarkGfm from \"remark-gfm\";\nimport { blogPaths } from \"../routes/paths\";\nimport usePosts from \"./usePosts\";\nimport { usePostViews } from \"./usePostViews\";\nimport {\n  calculateReadingTime,\n  formatDate,\n  parseMarkdownTable,\n  splitMarkdownContent,\n} from \"./utils\";\n\nconst markdownComponents = {\n  h2: ({ node, children, ...props }) => (\n    <h2\n      className='mt-12 text-2xl font-semibold text-brand-foreground first:mt-0'\n      {...props}>\n      {children}\n    </h2>\n  ),\n  h3: ({ node, children, ...props }) => (\n    <h3 className='mt-8 text-xl font-semibold text-brand-foreground' {...props}>\n      {children}\n    </h3>\n  ),\n  p: ({ node, children, ...props }) => (\n    <p className='mt-4 leading-relaxed text-brand-muted' {...props}>\n      {children}\n    </p>\n  ),\n  ul: ({ node, children, ...props }) => (\n    <ul className='mt-4 list-disc space-y-2 pl-6 text-brand-muted' {...props}>\n      {children}\n    </ul>\n  ),\n  ol: ({ node, children, ...props }) => (\n    <ol className='mt-4 list-decimal space-y-2 pl-6 text-brand-muted' {...props}>\n      {children}\n    </ol>\n  ),\n  li: ({ node, children, ...props }) => (\n    <li className='leading-relaxed' {...props}>\n      {children}\n    </li>\n  ),\n  blockquote: ({ node, children, ...props }) => (\n    <blockquote\n      className='mt-6 border-l-4 border-brand-border-strong bg-brand-accent-soft/60 p-4 italic text-brand-foreground'\n      {...props}>\n      {children}\n    </blockquote>\n  ),\n  code({ node, inline, className, children, ...props }) {\n    if (inline) {\n      return (\n        <code\n          className='rounded bg-brand-accent-soft px-1.5 py-0.5 font-mono text-sm text-brand-foreground'\n          {...props}>\n          {children}\n        </code>\n      );\n    }\n    return (\n      <pre className='mt-6 overflow-x-auto rounded-xl bg-brand-foreground p-4 text-sm text-brand-background'>\n        <code {...props}>{children}</code>\n      </pre>\n    );\n  },\n};\n\nconst tableMarkdownComponents = {\n  ...markdownComponents,\n  p: ({ children }) => <>{children}</>,\n};\n\nfunction MarkdownTable({ table }) {\n  if (!table.headers.length) return null;\n\n  return (\n    <div className='mt-8 overflow-x-auto rounded-2xl border border-brand-border bg-brand-background'>\n      <table className='min-w-full divide-y divide-brand-border text-left text-sm'>\n        <thead className='bg-brand-surface'>\n          <tr>\n            {table.headers.map((header, index) => (\n              <th\n                key={index}\n                className='px-4 py-3 font-semibold uppercase tracking-wide text-brand-muted'>\n                <ReactMarkdown\n                  components={tableMarkdownComponents}\n                  remarkPlugins={[remarkGfm]}>\n                  {header}\n                </ReactMarkdown>\n              </th>\n            ))}\n          </tr>\n        </thead>\n        <tbody className='divide-y divide-brand-border bg-brand-surface'>\n          {table.rows.map((row, rowIndex) => (\n            <tr key={rowIndex} className='hover:bg-brand-accent-soft/40'>\n              {row.map((cell, cellIndex) => (\n                <td\n                  key={cellIndex}\n                  className='px-4 py-3 align-top text-brand-muted'>\n                  <ReactMarkdown\n                    components={tableMarkdownComponents}\n                    remarkPlugins={[remarkGfm]}>\n                    {cell || \"\"}\n                  </ReactMarkdown>\n                </td>\n              ))}\n            </tr>\n          ))}\n        </tbody>\n      </table>\n    </div>\n  );\n}\n\nexport default function PostPage() {\n  const { slug } = useParams();\n  const { posts, isLoading, error } = usePosts();\n  const post = useMemo(\n    () => posts.find((item) => item.slug === slug),\n    [posts, slug]\n  );\n  const { views } = usePostViews(slug);\n\n  const [segments, setSegments] = useState([]);\n  const [readingTime, setReadingTime] = useState(post?.readingMinutes ?? 1);\n  const [contentError, setContentError] = useState(null);\n  const [contentLoading, setContentLoading] = useState(true);\n\n  useEffect(() => {\n    if (!post) return;\n\n    let cancelled = false;\n\n    async function loadContent() {\n      try {\n        setContentLoading(true);\n        const response = await fetch(post.contentPath);\n        if (!response.ok) {\n          throw new Error(\n            `콘텐츠를 불러오지 못했습니다 (status ${response.status})`\n          );\n        }\n        const markdown = await response.text();\n        if (cancelled) return;\n\n        setSegments(splitMarkdownContent(markdown));\n        setReadingTime(calculateReadingTime(markdown));\n        setContentLoading(false);\n      } catch (fetchError) {\n        if (!cancelled) {\n          setContentError(fetchError.message);\n          setContentLoading(false);\n        }\n      }\n    }\n\n    loadContent();\n    return () => {\n      cancelled = true;\n    };\n  }, [post]);\n\n  if (isLoading) {\n    return (\n      <div className='min-h-screen bg-brand-background'>\n        <div className='mx-auto max-w-4xl px-4 py-10 sm:px-6 sm:py-12'>\n          <p className='text-sm text-brand-muted'>\n            게시글 정보를 불러오는 중입니다…\n          </p>\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className='min-h-screen bg-brand-background'>\n        <div className='mx-auto max-w-4xl px-4 py-10 sm:px-6 sm:py-12'>\n          <p className='rounded-lg bg-rose-50 p-4 text-sm text-rose-600'>\n            {error}\n          </p>\n        </div>\n      </div>\n    );\n  }\n\n  if (!post) {\n    return <Navigate to={blogPaths.home} replace />;\n  }\n\n  return (\n    <div className='min-h-screen bg-brand-background'>\n      <div className='border-b border-brand-border bg-brand-surface'>\n        <div className='mx-auto flex w-full max-w-4xl items-center justify-between px-4 py-4 sm:px-6'>\n          <Link\n            to={blogPaths.home}\n            className='text-sm font-medium text-brand-accent transition hover:text-brand-accent-hover'>\n            ← 글 목록으로 돌아가기\n          </Link>\n        </div>\n      </div>\n\n      <div className='mx-auto max-w-4xl px-4 py-10 sm:px-6 sm:py-12'>\n        <article className='rounded-3xl border border-brand-border bg-brand-surface p-6 shadow-sm sm:p-10'>\n          <header className='flex flex-col gap-6'>\n            <div className='flex flex-wrap items-center gap-3 text-xs text-brand-muted sm:text-sm'>\n              <time dateTime={post.date}>{formatDate(post.date)}</time>\n              <span className='hidden text-brand-border-strong sm:inline'>•</span>\n              <span>{`${readingTime}분 분량`}</span>\n              {views > 0 && (\n                <>\n                  <span className='hidden text-brand-border-strong sm:inline'>•</span>\n                  <span className='inline-flex items-center gap-1'>\n                    <svg\n                      className='h-4 w-4'\n                      fill='none'\n                      viewBox='0 0 24 24'\n                      stroke='currentColor'>\n                      <path\n                        strokeLinecap='round'\n                        strokeLinejoin='round'\n                        strokeWidth={2}\n                        d='M15 12a3 3 0 11-6 0 3 3 0 016 0z'\n                      />\n                      <path\n                        strokeLinecap='round'\n                        strokeLinejoin='round'\n                        strokeWidth={2}\n                        d='M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z'\n                      />\n                    </svg>\n                    {views.toLocaleString()}\n                  </span>\n                </>\n              )}\n            </div>\n\n            <div className='space-y-4'>\n              <h1 className='text-3xl font-bold leading-tight text-brand-foreground sm:text-4xl'>\n                {post.title}\n              </h1>\n              <p className='text-base leading-relaxed text-brand-muted sm:text-lg'>\n                {post.description}\n              </p>\n              <div className='flex flex-wrap gap-2'>\n                {post.tags.map((tag) => (\n                  <span\n                    key={tag}\n                    className='rounded-full bg-brand-accent-soft px-3 py-1 text-xs font-medium text-brand-accent'>\n                    {tag}\n                  </span>\n                ))}\n              </div>\n            </div>\n          </header>\n\n          <section className='mt-10 space-y-8'>\n            {contentLoading && !segments.length ? (\n              <p className='text-sm text-brand-muted'>\n                콘텐츠를 불러오는 중입니다...\n              </p>\n            ) : null}\n\n            {contentError ? (\n              <p className='rounded-lg bg-rose-50 p-4 text-sm text-rose-600'>\n                {contentError}\n              </p>\n            ) : null}\n\n            {!contentError &&\n              segments.map((segment, index) => {\n                if (segment.type === \"table\") {\n                  const table = parseMarkdownTable(segment.value);\n                  return <MarkdownTable key={`table-${index}`} table={table} />;\n                }\n\n                return (\n                  <ReactMarkdown\n                    key={`md-${index}`}\n                    components={markdownComponents}\n                    remarkPlugins={[remarkGfm]}>\n                    {segment.value.trim()}\n                  </ReactMarkdown>\n                );\n              })}\n          </section>\n        </article>\n      </div>\n    </div>\n  );\n}\n","import { initializeApp } from 'firebase/app';\nimport { getFirestore } from 'firebase/firestore';\n\nconst firebaseConfig = {\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\n  authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\n  storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\n  messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\n  appId: process.env.REACT_APP_FIREBASE_APP_ID,\n};\n\nlet app = null;\nlet db = null;\n\n// Firebase 초기화 (환경 변수가 있을 때만)\nif (firebaseConfig.apiKey && firebaseConfig.projectId) {\n  try {\n    app = initializeApp(firebaseConfig);\n    db = getFirestore(app);\n  } catch (error) {\n    console.error('Firebase initialization error:', error);\n  }\n} else {\n  console.warn('Firebase credentials are not set. View count feature will not work.');\n}\n\nexport { db };\n","import { useEffect, useState } from 'react';\nimport {\n  collection,\n  doc,\n  getDoc,\n  setDoc,\n  updateDoc,\n  increment,\n  query,\n  where,\n  getDocs,\n} from 'firebase/firestore';\nimport { db } from '../lib/firebase';\n\nconst VIEW_COOLDOWN = 24 * 60 * 60 * 1000; // 24시간\n\nfunction getLastViewTime(slug) {\n  try {\n    const data = localStorage.getItem(`post_view_${slug}`);\n    return data ? parseInt(data, 10) : 0;\n  } catch {\n    return 0;\n  }\n}\n\nfunction setLastViewTime(slug) {\n  try {\n    localStorage.setItem(`post_view_${slug}`, Date.now().toString());\n  } catch {\n    // localStorage가 비활성화된 경우 무시\n  }\n}\n\nexport function usePostViews(slug) {\n  const [views, setViews] = useState(0);\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    if (!db || !slug) {\n      setIsLoading(false);\n      return;\n    }\n\n    async function loadAndIncrementViews() {\n      try {\n        const docRef = doc(db, 'post_views', slug);\n        const docSnap = await getDoc(docRef);\n\n        let currentViews = 0;\n\n        if (docSnap.exists()) {\n          currentViews = docSnap.data().view_count || 0;\n          setViews(currentViews);\n        }\n\n        // 중복 조회 체크\n        const lastViewTime = getLastViewTime(slug);\n        const now = Date.now();\n        const shouldIncrement = now - lastViewTime > VIEW_COOLDOWN;\n\n        if (shouldIncrement) {\n          if (docSnap.exists()) {\n            // 문서가 존재하면 조회수만 증가\n            await updateDoc(docRef, {\n              view_count: increment(1),\n              updated_at: new Date().toISOString(),\n            });\n            setViews(currentViews + 1);\n          } else {\n            // 문서가 없으면 새로 생성\n            await setDoc(docRef, {\n              slug,\n              view_count: 1,\n              created_at: new Date().toISOString(),\n              updated_at: new Date().toISOString(),\n            });\n            setViews(1);\n          }\n          setLastViewTime(slug);\n        }\n\n        setIsLoading(false);\n      } catch (err) {\n        console.error('Error in view tracking:', err);\n        setIsLoading(false);\n      }\n    }\n\n    loadAndIncrementViews();\n  }, [slug]);\n\n  return { views, isLoading };\n}\n\nexport async function getPostViewsMap(slugs) {\n  if (!db || !slugs?.length) {\n    return {};\n  }\n\n  try {\n    // Firestore는 'in' 쿼리가 최대 10개 제한이 있어서 배치로 처리\n    const batchSize = 10;\n    const results = {};\n\n    for (let i = 0; i < slugs.length; i += batchSize) {\n      const batchSlugs = slugs.slice(i, i + batchSize);\n      const q = query(\n        collection(db, 'post_views'),\n        where('slug', 'in', batchSlugs)\n      );\n      const querySnapshot = await getDocs(q);\n\n      querySnapshot.forEach((doc) => {\n        const data = doc.data();\n        results[data.slug] = data.view_count || 0;\n      });\n    }\n\n    return results;\n  } catch (err) {\n    console.error('Error fetching views map:', err);\n    return {};\n  }\n}\n","import { useEffect, useState } from \"react\";\n\nconst POSTS_MANIFEST_URL = \"/posts/index.json\";\n\nexport function usePosts() {\n  const [posts, setPosts] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    let cancelled = false;\n\n    async function loadPosts() {\n      try {\n        setIsLoading(true);\n        const response = await fetch(POSTS_MANIFEST_URL);\n        if (!response.ok) {\n          throw new Error(`포스트 목록을 불러오지 못했습니다 (status ${response.status})`);\n        }\n        const data = await response.json();\n        if (!cancelled) {\n          setPosts(Array.isArray(data) ? data : []);\n          setIsLoading(false);\n        }\n      } catch (fetchError) {\n        if (!cancelled) {\n          setError(fetchError.message);\n          setIsLoading(false);\n        }\n      }\n    }\n\n    loadPosts();\n\n    return () => {\n      cancelled = true;\n    };\n  }, []);\n\n  return { posts, isLoading, error };\n}\n\nexport default usePosts;\n","const formatter = new Intl.DateTimeFormat(\"ko-KR\", {\n  year: \"numeric\",\n  month: \"long\",\n  day: \"numeric\",\n});\n\nconst TABLE_BLOCK_PATTERN =\n  String.raw`(^\\|.*\\|\\r?\\n\\|[-:|\\s]+\\|\\r?\\n(?:\\|.*\\|\\r?\\n?)*)`;\n\nexport function formatDate(dateString) {\n  try {\n    return formatter.format(new Date(dateString));\n  } catch (error) {\n    return dateString;\n  }\n}\n\nexport function calculateReadingTime(content) {\n  if (!content) {\n    return 1;\n  }\n  const words = content\n    .replace(/\\s+/g, \" \")\n    .trim()\n    .split(\" \")\n    .filter(Boolean).length;\n  return Math.max(1, Math.round(words / 200));\n}\n\nexport function splitMarkdownContent(content) {\n  if (!content) {\n    return [];\n  }\n  const results = [];\n  const tableRegex = new RegExp(TABLE_BLOCK_PATTERN, \"gm\");\n  let lastIndex = 0;\n  let match;\n\n  while ((match = tableRegex.exec(content)) !== null) {\n    const { index } = match;\n    if (index > lastIndex) {\n      const markdownBlock = content.slice(lastIndex, index);\n      if (markdownBlock.trim()) {\n        results.push({ type: \"markdown\", value: markdownBlock });\n      }\n    }\n\n    results.push({ type: \"table\", value: match[0].trim() });\n    lastIndex = tableRegex.lastIndex;\n  }\n\n  if (lastIndex < content.length) {\n    const markdownBlock = content.slice(lastIndex);\n    if (markdownBlock.trim()) {\n      results.push({ type: \"markdown\", value: markdownBlock });\n    }\n  }\n\n  return results.length ? results : [{ type: \"markdown\", value: content }];\n}\n\nexport function parseMarkdownTable(tableBlock) {\n  if (!tableBlock) {\n    return { headers: [], rows: [] };\n  }\n\n  const lines = tableBlock\n    .trim()\n    .split(/\\r?\\n/)\n    .filter(Boolean);\n\n  if (lines.length < 2) {\n    return { headers: [], rows: [] };\n  }\n\n  const headers = extractCells(lines[0]);\n  const rows = lines\n    .slice(2)\n    .map((line) => extractCells(line))\n    .filter((cells) => cells.some((cell) => cell));\n\n  return { headers, rows };\n}\n\nfunction extractCells(line) {\n  return line\n    .split(\"|\")\n    .slice(1, -1)\n    .map((cell) => cell.trim());\n}\n"],"names":["markdownComponents","h2","_ref","node","children","props","_jsx","className","h3","_ref2","p","_ref3","ul","_ref4","ol","_ref5","li","_ref6","blockquote","_ref7","code","_ref8","inline","tableMarkdownComponents","_ref9","_Fragment","MarkdownTable","_ref10","table","headers","length","_jsxs","map","header","index","ReactMarkdown","components","remarkPlugins","remarkGfm","rows","row","rowIndex","cell","cellIndex","PostPage","_post$readingMinutes","slug","useParams","posts","isLoading","error","usePosts","post","useMemo","find","item","views","usePostViews","segments","setSegments","useState","readingTime","setReadingTime","readingMinutes","contentError","setContentError","contentLoading","setContentLoading","useEffect","cancelled","async","response","fetch","contentPath","ok","Error","concat","status","markdown","text","splitMarkdownContent","calculateReadingTime","fetchError","message","loadContent","Link","to","blogPaths","home","dateTime","date","formatDate","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","toLocaleString","title","description","tags","tag","segment","type","parseMarkdownTable","value","trim","Navigate","replace","firebaseConfig","apiKey","process","REACT_APP_FIREBASE_API_KEY","authDomain","REACT_APP_FIREBASE_AUTH_DOMAIN","projectId","REACT_APP_FIREBASE_PROJECT_ID","storageBucket","REACT_APP_FIREBASE_STORAGE_BUCKET","messagingSenderId","REACT_APP_FIREBASE_MESSAGING_SENDER_ID","appId","REACT_APP_FIREBASE_APP_ID","app","db","initializeApp","getFirestore","console","warn","VIEW_COOLDOWN","setViews","setIsLoading","docRef","doc","docSnap","getDoc","currentViews","exists","data","view_count","lastViewTime","localStorage","getItem","parseInt","getLastViewTime","now","Date","updateDoc","increment","updated_at","toISOString","setDoc","created_at","setItem","toString","setLastViewTime","err","loadAndIncrementViews","getPostViewsMap","slugs","batchSize","results","i","batchSlugs","slice","q","query","collection","where","getDocs","forEach","setPosts","setError","json","Array","isArray","loadPosts","formatter","Intl","DateTimeFormat","year","month","day","TABLE_BLOCK_PATTERN","String","raw","_templateObject","_taggedTemplateLiteral","dateString","format","content","words","split","filter","Boolean","Math","max","round","tableRegex","RegExp","match","lastIndex","exec","markdownBlock","push","tableBlock","lines","extractCells","line","cells","some"],"sourceRoot":""}