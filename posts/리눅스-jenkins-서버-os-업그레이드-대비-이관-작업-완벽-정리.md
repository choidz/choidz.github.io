# [ë¦¬ëˆ…ìŠ¤] Jenkins ì„œë²„ OS ì—…ê·¸ë ˆì´ë“œ ëŒ€ë¹„ ì´ê´€ ì‘ì—… ì™„ë²½ ì •ë¦¬

---

ê¸°ì—… í™˜ê²½ì—ì„œ ë¦¬ëˆ…ìŠ¤ ì„œë²„ OS ì—…ê·¸ë ˆì´ë“œë¥¼ ì§„í–‰í•  ë•Œ,

ê¸°ì¡´ì— ìš´ì˜ ì¤‘ì¸ Jenkins ì„œë¹„ìŠ¤ë¥¼ ìƒˆë¡œìš´ ì„œë²„ë¡œ ì•ˆì „í•˜ê²Œ ì´ì „í•˜ëŠ” ì ˆì°¨ë¥¼ ì •ë¦¬í–ˆìŠµë‹ˆë‹¤.

---

**ğŸ“ Jenkins ì„œë²„ ì´ê´€ì´ ì™œ ì¤‘ìš”í• ê¹Œ?**

  * OS ì—…ê·¸ë ˆì´ë“œ ê³¼ì •ì—ì„œ ê¸°ì¡´ í”„ë¡œê·¸ë¨ì´ë‚˜ ì„œë¹„ìŠ¤ê°€ ì œëŒ€ë¡œ ì‘ë™í•˜ì§€ ì•Šê±°ë‚˜, ê²½ìš°ì— ë”°ë¼ ì‚­ì œ/ì†ìƒë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

  * íŠ¹íˆ JenkinsëŠ” ê°œë°œ ìë™í™”ì˜ ì¤‘ì‹¬ ì„œë¹„ìŠ¤ì´ê¸° ë•Œë¬¸ì—, **ì™„ë²½í•œ ì‚¬ì „ ì¤€ë¹„ì™€ ë°ì´í„° ë³´ì¡´** ì´ í•„ìˆ˜ì…ë‹ˆë‹¤. ğŸ’¡

  * ì‚¬ì „ ì´ê´€ + í…ŒìŠ¤íŠ¸ â†’ ì‹¤ì œ ì—…ê·¸ë ˆì´ë“œ ë‹¹ì¼ ìµœì†Œ ë‹¤ìš´íƒ€ì„ìœ¼ë¡œ ì´ì „ ì™„ë£Œ â†’ ì•ˆì •ì ì¸ ì¬ê°€ë™ì„ ë³´ì¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

**ğŸ” Jenkins ì„œë²„ êµ¬ì„± ì´í•´í•˜ê¸°**

Jenkinsë¥¼ êµ¬ì„±í•˜ëŠ” í•µì‹¬ ìš”ì†ŒëŠ” ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤:

> ğŸ”‘ ìš”ì•½: ì´ ë‘ ê²½ë¡œë§Œ ì œëŒ€ë¡œ ë³µì œ/ë³µì‚¬í•´ì£¼ë©´, Jenkinsë¥¼ â€œê·¸ëŒ€ë¡œâ€ ìƒˆ ì„œë²„ì—ì„œ ë³µì œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

**ğŸš¦ ì´ê´€ ì‹œë‚˜ë¦¬ì˜¤: ìš´ì˜ ì„œë²„ â†’ ì‹ ê·œ ì„œë²„ (ê²½ë¡œ ë™ì¼)**

  * ê²½ë¡œ êµ¬ì¡°ë¥¼ ë™ì¼í•˜ê²Œ ë§ì¶˜ í›„ rsyncë¥¼ ì´ìš©í•´ ë³µì œ

  * SSH ì ‘ì†ì´ ê°€ëŠ¥í•´ì•¼ í•¨

ì´ì „ ì ˆì°¨ëŠ” ë‹¤ìŒê³¼ ê°™ì´ í¬ê²Œ ë‘ ë‹¨ê³„ë¡œ ë‚˜ë‰©ë‹ˆë‹¤.

---

**ğŸ› ï¸ 1ì°¨ ì‚¬ì „ ì´ê´€ (ì„œë¹„ìŠ¤ ì¤‘ì§€ ì—†ì´ ê°€ëŠ¥)**

âœ… ì‹ ê·œ ì„œë²„ì—ì„œ ì‹¤í–‰:

```
rsync -avz devuser@ìš´ì˜ì„œë²„:/var/lib/jenkins /var/lib/jenkins
rsync -avz devuser@ìš´ì˜ì„œë²„:/usr/lib/jenkins/ /usr/lib/jenkins/
``` 

  * ëª©ì : ê¸°ë³¸ ë°ì´í„°ì™€ íŒŒì¼ êµ¬ì¡°ë¥¼ ë¯¸ë¦¬ ë³µì‚¬

  * ì„œë¹„ìŠ¤ ì¤‘ë‹¨ ì—†ì´ ì§„í–‰ ê°€ëŠ¥ â†’ ì‹ ê·œ ì„œë²„ì—ì„œ ì‚¬ì „ ì ê²€ ê°€ëŠ¥

---

**ğŸ”¥ ìµœì¢… ì´ê´€ (ë‹¤ìš´íƒ€ì„) â€” OS ì—…ê·¸ë ˆì´ë“œ ë‹¹ì¼**

  1. ìš´ì˜ ì„œë²„ì—ì„œ Jenkins / Tomcat ì¢…ë£Œ

  2. /usr/lib/jenkins/bin/shutdown.sh 

  3. ìµœì‹  ë°ì´í„° ë‹¤ì‹œ ë™ê¸°í™” (1ì°¨ì™€ ë™ì¼í•œ rsync ëª…ë ¹)

```
rsync -avz devuser@ìš´ì˜ì„œë²„:/var/lib/jenkins /var/lib/jenkins
rsync -avz devuser@ìš´ì˜ì„œë²„:/usr/lib/jenkins/ /usr/lib/jenkins/
``` 

4\. ì‹ ê·œ ì„œë²„ì—ì„œ Jenkins ê¸°ë™

5\. /usr/lib/jenkins/startup.sh 

â†’ ì´ë ‡ê²Œ í•˜ë©´ ì„œë¹„ìŠ¤ ì¤‘ë‹¨ ìµœì†Œí™” í•œ ì±„ë¡œ ì´ê´€ ì™„ë£Œ

---

**ğŸ‘€ ì„œë¹„ìŠ¤ ê¸°ë™ í›„ ì ê²€ í•­ëª©**

  * ìƒˆ ì„œë²„ì— ì ‘ì†: http://ì‹ ê·œì„œë²„:í¬íŠ¸/jenkins

  * ì•„ë˜ í•­ëª© í™•ì¸:

  * Jenkins Job ëª©ë¡ ì •ìƒ í‘œì‹œ ì—¬ë¶€

  * Plug-in ì •ìƒ ë¡œë“œ ì—¬ë¶€

  * ì‚¬ìš©ì ê³„ì • / ê¶Œí•œ ì„¤ì • ìœ ì§€ ì—¬ë¶€

  * ë¹Œë“œ ì´ë ¥(History) ìœ ì§€ ì—¬ë¶€

  * ì‹¤ì œ ë¹Œë“œ ìˆ˜í–‰ í…ŒìŠ¤íŠ¸ (ì‹¤ì œ Job ì‹¤í–‰)

---

**ğŸ§¨ ì‹¤ìˆ˜ ë°©ì§€ íŒ & ì£¼ì˜ì‚¬í•­**

  * **\--dry-run** ì˜µì…˜ìœ¼ë¡œ ë¨¼ì € í…ŒìŠ¤íŠ¸ ê°€ëŠ¥

```
rsync -avz --dry-run devuser@ìš´ì˜ì„œë²„:/var/lib/jenkins /var/lib/jenkins
``` 

  * **rsync ê²½ë¡œ ëì— / ë¶™ì´ëŠ” ê²ƒ ì£¼ì˜**

  * /var/lib/jenkins : í´ë” ì•ˆì˜ ë‚´ìš©ë§Œ ë³µì‚¬ â‡’ ì¶”ì²œ

  * /var/lib/jenkins (ë / ì—†ìŒ) : jenkins í´ë”ê°€ í•œ ë²ˆ ë” ìƒì„±ë  ìˆ˜ ìˆì–´ ì£¼ì˜

  * ê°€ëŠ¥í•˜ë‹¤ë©´, ì†Œìœ ê¶Œ(uid/gid) ë° ê¶Œí•œ(permission) ìœ ì§€í•˜ë©° ë³µì‚¬ (rsync ê¸°ë³¸ -a ì˜µì…˜ì€ ì´ë¥¼ ë³´ì¥) [docs.cloudbees.com+1](<https://docs.cloudbees.com/docs/cloudbees-ci-kb/latest/client-and-managed-controllers/how-to-correctly-copy-jenkins-directories-from-the-command-line?utm_source=chatgpt.com>)

  * ë§Œì•½ credential, ì‚¬ìš©ì ì •ë³´, í”ŒëŸ¬ê·¸ì¸ ì„¤ì • ë“±ì´ ìˆë‹¤ë©´ $JENKINS_HOME ì „ì²´ë¥¼ ë³µì‚¬í•´ì•¼ í•¨. ì´ ì•ˆì— users, secrets, plugins ë“±ì´ í¬í•¨ë¨ [Stack Overflow+2Jenkins+2](<https://stackoverflow.com/questions/56075915/how-to-copy-jenkins-users-to-another-server?utm_source=chatgpt.com>)

---

**ğŸ§© ì¶”ê°€ êµ¬ì„±(DB, Cassandra, ì™¸ë¶€ ì—°ë™ ë“±)ì´ ìˆì„ ê²½ìš°**

  * Jenkins ê¸°ë³¸ ê¸°ëŠ¥ë§Œ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ëŠ” $JENKINS_HOME + ì‹¤í–‰í™˜ê²½ë§Œìœ¼ë¡œ ì¶©ë¶„

  * ê·¸ëŸ¬ë‚˜ DB, Cassandra, ì™¸ë¶€ ë°ì´í„° ì—°ë™ êµ¬ì„± ë“±ì´ ìˆë‹¤ë©´

  * í•´ë‹¹ ë°ì´í„°ë² ì´ìŠ¤ë‚˜ ì™¸ë¶€ ì €ì¥ì†Œ êµ¬ì„±ë„ í•¨ê»˜ ì´ê´€ ë˜ëŠ” ì¬êµ¬ì„±ì´ í•„ìš”

  * ë‹¨ìˆœ íŒŒì¼ ë³µì‚¬ë§Œìœ¼ë¡œëŠ” ë˜ì§€ ì•Šìœ¼ë¯€ë¡œ ì£¼ì˜ë¥¼ ê¸°ìš¸ì¼ ê²ƒ

---

**ğŸ”” ì²´í¬ë¦¬ìŠ¤íŠ¸ (ì˜ˆ: í‘œë¡œ ì €ì¥ í›„ ë‚´ë¶€ ê³µìœ ìš©ìœ¼ë¡œ ì‚¬ìš©)**

> âœ… ì´ í‘œë¥¼ ë¬¸ì„œí™”í•´ ë‘ë©´, OS ì—…ê·¸ë ˆì´ë“œ ì¼ì • í˜‘ì—… ë° íŒ€ ê°„ ì»¤ë®¤ë‹ˆì¼€ì´ì…˜ì— ìœ ìš©í•©ë‹ˆë‹¤.

---

**â€‹**

[ì›ë¬¸ ë³´ê¸°](https://blog.naver.com/choidz_/224101741575?fromRss=true&trackingCode=rss)
